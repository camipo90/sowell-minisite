<div ng-show="loading">
  LOADING
</div>

<div ng-show="!loading">

  <div layout="row" layout-xs="column" layout-sm="column" layout-padding md-whiteframe="2">
    <div layout="column" flex="50" flex-sm="100" flex-xs="100">
      <div>
        <h3>What's on people's minds and what are they up to?</h3>
      </div>
      <div>
        <md-grid-list md-cols="2" md-cols-lg="3" md-gutter="6px" md-row-height="50px">
          <md-grid-tile ng-repeat="item in seriesDomain">
            <md-button ng-click="setTopic(item.topic)">{{item.name}}</md-button>
          </md-grid-tile>
        </md-grid-list>
      </div>
    </div>
    <div layout="column" flex="50" flex-sm="100" flex-xs="100">
      <div>
        <h3>How are people feeling?</h3>
      </div>
      <div>
        <md-grid-list md-cols="2" md-cols-lg="3" md-gutter="6px" md-row-height="50px">
          <md-grid-tile ng-repeat="item in seriesMeasure">
            <md-button ng-click="setTopic(item.topic)">{{item.name}}</md-button>
          </md-grid-tile>
        </md-grid-list>
      </div>   
    </div>
  </div>

  <!-- SLIDER -->
  <div>
    <div time-slider class="time-slider-container"></div>
  </div>

  <!-- MULTI CURVES -->
  <div stacked-curves-us
    statuses="regionsStatuses"
    data="regionsData"
    set-state="setState"
    state="region"
    style="width: 100%; height: 300px;"
  ></div>

  <div hex-us
    statuses="regionsStatuses"
    data="regionsData"
    set-state="setState"
    state="region"
    style="width: 100%; height: 500px; background-color: {{colors.mapBackground}};"
    ng-click="unselectRegion()"
  ></div>

  <div layout="row" ng-if="region" layout-padding>
    <div>
      <div class="input-proxy-container">
        Evolution of
      </div>
    </div>
    <div>
      <md-input-container>
        <label>Index</label>
        <md-select ng-model="$parent.topic">
          <md-option ng-repeat="topic in topics" value="{{topic}}">
            {{topicName(topic)}}
          </md-option>
        </md-select>
      </md-input-container>
    </div>
    <div>
      <div class="input-proxy-container">
        in
      </div>
    </div>
    <div>
      <md-input-container>
        <label>Region</label>
        <md-select ng-model="$parent.region">
          <md-option ng-repeat="region in regions" value="{{region}}">
            {{regionName(region)}}
          </md-option>
        </md-select>
      </md-input-container>
    </div>
  </div>

  <div ng-if="region">
    <!-- TODO: THIS FOR EVERY INDICATOR -->
    <div bar-chart
      data="chartData"
      style="width: 100%; height: 200px; background-color: {{colors.happinessChartBackground}};"
    ></div>
  </div>

</div>
